{"version":3,"sources":["product.js"],"names":["jQuery","document","ready","$","elevateZoom","zoomType","cursor","gallery","galleryActiveClass","sliderContent","html","append","slick","prevArrow","nextArrow","arrows","slidesToShow","slidesToScroll","extraOptions","positionFixed","productDetailSection","intPX","str","parseFloat","replace","window","scroll","scrollTop","sectionHeight","css","extraOptionsHeight","windowWidth","width","Math","abs","cw","fp_l","fixedTo","offsetTop","on","this","hasClass","removeClass","addClass","quantity","val","isNaN","target","attr","total","kb_shop_currency_symbol","Number","toLocaleString","trigger","data","collapse"],"mappings":"AAAAA,OAAOC,UAAUC,MAAM,SAASC,GAG9BA,EAAE,gBAAgBC,YAAY,CAC5BC,SAAW,QACXC,OAAQ,YACRC,QAAU,kBACVC,mBAAoB,WAItB,IAAIC,EAAgBN,EAAE,oBAAoBO,OAC1CP,EAAE,uBAAuBQ,OAAOF,GAChCN,EAAE,uBAAuBS,MAAM,CAC7BC,UAAc,sDACdC,UAAc,uDACdC,QAAQ,EACRC,aAAc,EACdC,eAAgB,IAIlB,IAAIC,EAAef,EAAE,2CACjBgB,GAAgB,EAChBC,EAAuBjB,EAAE,4BA0E7B,SAASkB,EAAMC,GACb,OAAIA,EAEGC,WAAWD,EAAIE,QAAQ,OADrB,EAjEXrB,EAAEsB,QAAQC,OAAO,WACf,IAAIC,EAAYxB,EAAEsB,QAAQE,YACtBC,EAAgBP,EAAMD,EAAqBS,IAAI,WAC/CC,EAAqBT,EAAMH,EAAaW,IAAI,WAC5CE,EAAc5B,EAAEsB,QAAQO,QAC5B,KAAGC,KAAKC,IAAIN,EAAcE,GAAsB,KAAhD,CAGA,IAhBIK,EAGAC,EAcAC,EAAUjB,EAAqB,GAAGkB,UAAUV,EAAcE,EAC3DC,GAAe,IAChBb,EAAaW,IAAI,WAAY,UAAUA,IAAI,MAAO,GAHpC,KAKTF,GAA0BA,GAAaU,GArB1CF,EAAKd,EAAMlB,EAAE,uCAAuC0B,IAAI,UAGxDO,GAFKjC,EAAEsB,QAAQO,QACNG,GAAM,EACLA,EAAGd,EAAMH,EAAaW,IAAI,UAAU,EAClDX,EAAaW,IAAI,YAAaX,EAAaW,IAAI,UAC/CX,EAAaW,IAAI,WAAY,SAASA,IAAI,MAAO,IAAIA,IAAI,OAAOO,GAkB5DjB,GAAgB,GAEbA,IACDD,EAAaW,IAAI,WAAY,UAAUA,IAAI,MAAO,GAClDV,GAAgB,MAQxBhB,EAAEF,UAAUsC,GAAG,QAAS,2CAA4C,WAC/DpC,EAAEqC,MAAMC,SAAS,mBAClBtC,EAAEqC,MAAME,YAAY,kBACpBvC,EAAEqC,MAAMG,SAAS,qBAEjBxC,EAAEqC,MAAMG,SAAS,kBACjBxC,EAAEqC,MAAME,YAAY,sBAKxBvC,EAAEF,UAAUsC,GAAG,SAAU,0BAA2B,WAClD,IAAIK,EAAWzC,EAAEqC,MAAMK,MACpBC,MAAMF,KACPA,EAAW,EACXzC,EAAEqC,MAAMK,IAAID,IAEd,IAAIG,EAAS5C,EAAEqC,MAAMQ,KAAK,eAEtBC,EADY1B,WAAWpB,EAAE4C,GAAQC,KAAK,oBAClBJ,EACxBzC,EAAE4C,GAAQC,KAAK,aAAcC,GAC7B9C,EAAE4C,GAAQF,IAAIK,wBAAwB,IAAKC,OAAOF,GAAQG,oBAGzDjD,EAAEsB,QAAQO,SAAW,MAEtB7B,EAAE,yEACDkD,QAAQ,SACTlD,EAAEF,UAAUsC,GACV,QACA,wEACA,WACEpC,EAAEA,EAAEqC,MAAMc,KAAK,WAAWC,SAAS","file":"product.js","sourcesContent":["jQuery(document).ready(function($){\n\n  // product image\n  $(\"#product-img\").elevateZoom({\n    zoomType : \"inner\",\n    cursor: \"crosshair\",\n    gallery : 'product-img-gal',\n    galleryActiveClass: 'active', \n  });\n\n  //intialize slider for mobile\n  var sliderContent = $('#product-img-gal').html();\n  $('#product-img-slider').append(sliderContent);\n  $('#product-img-slider').slick({\n    'prevArrow' : '<span class=\"fa fa-chevron-left slide-back\"></span>',\n    'nextArrow' : '<span class=\"fa fa-chevron-right slide-next\"></span>',\n    arrows: true,\n    slidesToShow: 1,\n    slidesToScroll: 1\n  });\n\n  // fixed box\n  var extraOptions = $('.product-details-section .extra-options');\n  var positionFixed = true;\n  var productDetailSection = $('.product-details-section');\n\n  function makeExtraOptionsFixed() {\n    var cw = intPX($('.product-details-section .container').css('width'));\n    var vw = $(window).width();\n    var mw = (vw-cw) / 2;\n    var fp_l = mw+cw-intPX(extraOptions.css('width'))-3;\n    extraOptions.css('max-width', extraOptions.css('width'));\n    extraOptions.css('position', 'fixed').css('top', 10).css('left',fp_l);\n  }\n\n  $(window).scroll(function(){\n    var scrollTop = $(window).scrollTop();\n    var sectionHeight = intPX(productDetailSection.css('height'));\n    var extraOptionsHeight = intPX(extraOptions.css('height'));\n    var windowWidth = $(window).width();\n    if(Math.abs(sectionHeight-extraOptionsHeight) < 300) {\n      return;\n    }\n    var fixedFrom = 460;\n    var fixedTo = productDetailSection[0].offsetTop+sectionHeight-extraOptionsHeight;\n    if(windowWidth <= 991) {\n      extraOptions.css('position', 'static').css('top', 0);\n    } else {\n        if(scrollTop >= fixedFrom && scrollTop <= fixedTo) {\n        makeExtraOptionsFixed();\n        positionFixed = true;\n      } else {\n        if(positionFixed) {\n          extraOptions.css('position', 'static').css('top', 0);\n          positionFixed = false\n        }\n      }\n    }\n    \n  });\n\n  // toggle details\n  $(document).on('click', '.product-details-section .toggle-details', function(){\n    if($(this).hasClass('fa-plus-circle')) {\n      $(this).removeClass('fa-plus-circle');\n      $(this).addClass('fa-minus-circle');\n    } else {\n      $(this).addClass('fa-plus-circle');\n      $(this).removeClass('fa-minus-circle');\n    }\n  });\n\n\n  $(document).on('change', '#product-quantity-input', function(){\n    var quantity = $(this).val();\n    if(isNaN(quantity)) {\n      quantity = 1;\n      $(this).val(quantity);\n    }\n    var target = $(this).attr('data-target');\n    var unitPrice = parseFloat($(target).attr('data-unit-price'));\n    var total = unitPrice * quantity;\n    $(target).attr('data-total', total);\n    $(target).val(kb_shop_currency_symbol+(new Number(total)).toLocaleString());\n  });\n\n  if($(window).width() <= 767) {\n    //collapse description, shipping and seller details on mobile\n    $('.product-page-content .product-details-section .footer-col .title .fa')\n    .trigger('click');\n    $(document).on(\n      'click', \n      '.product-page-content .product-details-section .footer-col .title .fa',\n      function(){\n        $($(this).data('target')).collapse('toggle');\n    });\n  }\n\n  function intPX(str) {\n    if(!str) \n      return 0;\n    return parseFloat(str.replace('px'));\n  }\n\n});"]}